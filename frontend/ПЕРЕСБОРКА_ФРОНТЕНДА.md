# Пересборка фронтенда локально

## Проблема: Визуальное оформление отличается от сервера

Это может быть из-за:
1. Фронтенд не пересобран после обновления кода
2. Кеш браузера
3. Разные зависимости
4. Разные переменные окружения

## Решение: Пересобрать фронтенд

### Шаг 1: Очистить старую сборку

```bash
cd frontend

# Удалить папку .next (собранный фронтенд)
Remove-Item -Recurse -Force .next -ErrorAction SilentlyContinue

# Или если используете PowerShell:
rm -r -force .next
```

### Шаг 2: Очистить кеш npm (опционально)

```bash
# Удалить node_modules и переустановить зависимости
Remove-Item -Recurse -Force node_modules
npm install
```

### Шаг 3: Пересобрать фронтенд

```bash
# Собрать для production
npm run build

# Или запустить в dev режиме
npm run dev
```

### Шаг 4: Проверить переменные окружения

Создайте файл `.env.local` в папке `frontend`:

```bash
# frontend/.env.local
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000/api/v1
```

### Шаг 5: Очистить кеш браузера

1. Откройте DevTools (F12)
2. Правый клик на кнопку обновления
3. Выберите "Очистить кеш и жесткая перезагрузка"
4. Или Ctrl+Shift+R

## Полная пересборка (если проблемы остались)

```bash
cd frontend

# 1. Удалить все кеши
Remove-Item -Recurse -Force .next -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force node_modules -ErrorAction SilentlyContinue
Remove-Item -Force package-lock.json -ErrorAction SilentlyContinue

# 2. Переустановить зависимости
npm install

# 3. Пересобрать
npm run build

# 4. Запустить
npm run start
# Или для разработки:
npm run dev
```

## Проверка что все работает

1. Откройте `http://localhost:3000`
2. Откройте DevTools → Network
3. Проверьте что запросы идут на правильный API (`http://localhost:8000/api/v1`)
4. Проверьте что стили загружаются

## Если используется dev режим

В dev режиме Next.js автоматически пересобирает при изменениях, но иногда нужно:

```bash
# Остановить dev сервер (Ctrl+C)
# Удалить .next
Remove-Item -Recurse -Force .next

# Запустить заново
npm run dev
```


