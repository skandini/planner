# –û—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø–ª–∞–Ω–∞ —É–ª—É—á—à–µ–Ω–∏–π

## üìä –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å

**–§–∞–∑–∞ 1:** ‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω–∞ (100%)**  
**–§–∞–∑–∞ 2:** ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (60%)**  
**–§–∞–∑–∞ 3:** ‚ùå **–ù–µ –Ω–∞—á–∞—Ç–∞ (0%)**  
**–§–∞–∑–∞ 4:** ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (40%)**  
**–§–∞–∑–∞ 5:** ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (30%)**

---

## ‚úÖ –§–ê–ó–ê 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ó–ê–í–ï–†–®–ï–ù–û)

### 1.1. –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL ‚úÖ
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –ù–∞—Å—Ç—Ä–æ–µ–Ω connection pooling –¥–ª—è PostgreSQL
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É–ª–∞: `pool_size=20, max_overflow=40`
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** `pool_pre_ping=True` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** `pool_recycle=3600` –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** Retry logic —Å exponential backoff
- **–§–∞–π–ª:** `backend/app/db.py`

### 1.2. Connection Pooling ‚úÖ
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `QueuePool` –¥–ª—è PostgreSQL
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ
- **–§–∞–π–ª:** `backend/app/db.py`

### 1.3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CORS ‚úÖ
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –£–±—Ä–∞–Ω–æ `allow_origins=["*"]`
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `BACKEND_CORS_ORIGINS`
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –†–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è development/production
- **–§–∞–π–ª:** `backend/app/main.py`

### 1.4. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏—è ‚úÖ
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** `list_calendars` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `skip` –∏ `limit`
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** `list_events` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `skip` –∏ `limit`
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** `list_notifications` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `skip` –∏ `limit`
- **–§–∞–π–ª—ã:** `backend/app/api/v1/calendars.py`, `events.py`, `notifications.py`

---

## ‚ö†Ô∏è –§–ê–ó–ê 2: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–ß–ê–°–¢–ò–ß–ù–û –ó–ê–í–ï–†–®–ï–ù–û - 60%)

### 2.1. –î–æ–±–∞–≤–∏—Ç—å Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è ‚ö†Ô∏è
- ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω in-memory cache (–Ω–µ Redis)
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è `get_current_user` (TTL: 5 –º–∏–Ω—É—Ç)
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** Redis –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π –∏ —Å–æ–±—ã—Ç–∏–π
- **–§–∞–π–ª—ã:** `backend/app/core/cache.py`, `backend/app/api/deps.py`

### 2.2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã ‚ö†Ô∏è
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω `is_admin_or_it` (—É—Å—Ç—Ä–∞–Ω–µ–Ω N+1)
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –ë–î (–º–∏–≥—Ä–∞—Ü–∏—è `1e3cd8ed31cb`)
- ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ:** –í `list_events` –µ—Å—Ç—å –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `joinedload`/`selectinload` –≤ –¥—Ä—É–≥–∏—Ö endpoints
- **–§–∞–π–ª—ã:** `backend/app/api/deps.py`, `backend/migrations/versions/1e3cd8ed31cb_*.py`

### 2.3. –î–æ–±–∞–≤–∏—Ç—å database indexes ‚úÖ
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è —Å 7 —Å–æ—Å—Ç–∞–≤–Ω—ã–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è foreign keys
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –°–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
- **–§–∞–π–ª:** `backend/migrations/versions/1e3cd8ed31cb_add_performance_indexes.py`

### 2.4. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π ‚ùå
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** BackgroundTasks –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** Celery –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, –Ω–æ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- **–§–∞–π–ª—ã:** `backend/app/api/v1/events.py`, `backend/app/services/notifications.py`

---

## ‚ùå –§–ê–ó–ê 3: –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å (–ù–ï –ù–ê–ß–ê–¢–ê - 0%)

### 3.1. –ú–∏–≥—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –≤ –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ ‚ùå
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –§–∞–π–ª—ã –≤—Å–µ –µ—â–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å S3/MinIO
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –ù–µ—Ç pre-signed URLs
- **–§–∞–π–ª—ã:** `backend/app/main.py`, endpoints –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤

### 3.2. –î–æ–±–∞–≤–∏—Ç—å rate limiting ‚ö†Ô∏è
- ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω slowapi, –Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –ù–∞—Å—Ç—Ä–æ–µ–Ω limiter –¥–ª—è `/register` –∏ `/login`
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** Rate limiting –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ—Ç–∫–ª—é—á–µ–Ω)
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –õ–∏–º–∏—Ç—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö endpoints
- **–§–∞–π–ª—ã:** `backend/app/core/limiter.py`, `backend/app/api/v1/auth.py`

### 3.3. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `print()` –Ω–∞ `logging`
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ:** JSON —Ñ–æ—Ä–º–∞—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å)
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ELK/Loki
- **–§–∞–π–ª—ã:** `backend/app/main.py`, `backend/app/services/notifications.py`

### 3.4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏ ‚ùå
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** Prometheus –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** Health check endpoints —Ä–∞—Å—à–∏—Ä–µ–Ω—ã (`/health`, `/ready`)
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –ú–µ—Ç—Ä–∏–∫–∏ requests/sec, latency, errors
- **–§–∞–π–ª:** `backend/app/api/v1/health.py`

---

## ‚ö†Ô∏è –§–ê–ó–ê 4: –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (–ß–ê–°–¢–ò–ß–ù–û –ó–ê–í–ï–†–®–ï–ù–û - 40%)

### 4.1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚úÖ
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–æ–∫ —Å–∫—Ä—ã—Ç—ã –≤ production
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö –æ—à–∏–±–æ–∫
- **–§–∞–π–ª:** `backend/app/main.py`

### 4.2. Health checks –∏ readiness probes ‚úÖ
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –†–∞–∑–¥–µ–ª–µ–Ω—ã liveness (`/health`) –∏ readiness (`/ready`)
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î –≤ readiness
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ HTTP —Å—Ç–∞—Ç—É—Å—ã (503 –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ë–î)
- **–§–∞–π–ª:** `backend/app/api/v1/health.py`

### 4.3. Graceful shutdown ‚ùå
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- **–§–∞–π–ª:** `backend/app/main.py`

### 4.4. Database connection retry logic ‚úÖ
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** `pool_pre_ping=True` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** Retry logic —Å exponential backoff (—á–∞—Å—Ç–∏—á–Ω–æ)
- ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ:** –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–∞–∑—Ä—ã–≤–æ–≤
- **–§–∞–π–ª:** `backend/app/db.py`

### 4.5. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ ‚ùå
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup –ë–î –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** Backup —Ñ–∞–π–ª–æ–≤ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –°–∫—Ä–∏–ø—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ —Å–æ–∑–¥–∞–Ω

---

## ‚ö†Ô∏è –§–ê–ó–ê 5: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–ß–ê–°–¢–ò–ß–ù–û –ó–ê–í–ï–†–®–ï–ù–û - 30%)

### 5.1. Security headers ‚úÖ
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω middleware –¥–ª—è security headers
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** `X-Content-Type-Options: nosniff`
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** `X-Frame-Options: DENY`
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** `X-XSS-Protection: 1; mode=block`
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** `Referrer-Policy: strict-origin-when-cross-origin`
- ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ:** CSP (Content-Security-Policy) –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω
- **–§–∞–π–ª:** `backend/app/main.py`

### 5.2. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚ö†Ô∏è
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** SQL injection –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ SQLModel (–≤—Å—Ç—Ä–æ–µ–Ω–∞)
- ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ:** –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –µ—Å—Ç—å, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è sanitization
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –ó–∞—â–∏—Ç–∞ –æ—Ç XSS –≤ —Ñ–∞–π–ª–∞—Ö

### 5.3. Rotating secrets ‚ùå
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è SECRET_KEY –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚ùå **–ù–µ —Å–¥–µ–ª–∞–Ω–æ:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å secrets manager (AWS Secrets Manager, Vault)
- ‚úÖ **–°–¥–µ–ª–∞–Ω–æ:** –í–∞–ª–∏–¥–∞—Ü–∏—è SECRET_KEY –≤ production (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)

---

## üìã –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é: 12 –∑–∞–¥–∞—á
1. ‚úÖ Connection pooling –¥–ª—è PostgreSQL
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CORS
3. ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è (3 endpoints)
4. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
5. ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
6. ‚úÖ Health checks (liveness + readiness)
7. ‚úÖ Database indexes (7 –∏–Ω–¥–µ–∫—Å–æ–≤)
8. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è SECRET_KEY
9. ‚úÖ Security headers (–±–∞–∑–æ–≤—ã–µ)
10. ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (in-memory)
11. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (is_admin_or_it)
12. ‚úÖ Database connection retry logic (—á–∞—Å—Ç–∏—á–Ω–æ)

### –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 6 –∑–∞–¥–∞—á
1. ‚ö†Ô∏è –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (in-memory –≤–º–µ—Å—Ç–æ Redis)
2. ‚ö†Ô∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ç–æ–ª—å–∫–æ —á–∞—Å—Ç–∏—á–Ω–æ)
3. ‚ö†Ô∏è Rate limiting (–¥–æ–±–∞–≤–ª–µ–Ω, –Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω)
4. ‚ö†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–±–µ–∑ JSON —Ñ–æ—Ä–º–∞—Ç–∞)
5. ‚ö†Ô∏è Database connection retry (–±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
6. ‚ö†Ô∏è Security headers (–±–µ–∑ CSP)

### –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 11 –∑–∞–¥–∞—á
1. ‚ùå Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
2. ‚ùå –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π –∏ —Å–æ–±—ã—Ç–∏–π
3. ‚ùå –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
4. ‚ùå –ú–∏–≥—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –≤ S3/MinIO
5. ‚ùå Prometheus –º–µ—Ç—Ä–∏–∫–∏
6. ‚ùå Graceful shutdown
7. ‚ùå –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
8. ‚ùå CSP (Content-Security-Policy)
9. ‚ùå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
10. ‚ùå Rotating secrets
11. ‚ùå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ELK/Loki –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ï –ó–ê–î–ê–ß–ò –î–õ–Ø –ó–ê–í–ï–†–®–ï–ù–ò–Ø

### –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è production (—Å–ª–µ–¥—É—é—â–∏–µ 1-2 –Ω–µ–¥–µ–ª–∏):

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å rate limiting** ‚ö†Ô∏è
   - –ü—Ä–æ–±–ª–µ–º–∞: slowapi –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
   - –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É (nginx rate limiting)

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚ùå
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup –ë–î
   - Backup —Ñ–∞–π–ª–æ–≤

3. **Graceful shutdown** ‚ùå
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
   - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –í–∞–∂–Ω–æ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (2-4 –Ω–µ–¥–µ–ª–∏):

4. **Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è** ‚ùå
   - –ó–∞–º–µ–Ω–∏—Ç—å in-memory cache –Ω–∞ Redis
   - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π –∏ —Å–æ–±—ã—Ç–∏–π

5. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** ‚ùå
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BackgroundTasks –∏–ª–∏ Celery

6. **–ú–∏–≥—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –≤ S3** ‚ùå
   - –î–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å):

7. **Prometheus –º–µ—Ç—Ä–∏–∫–∏** ‚ùå
8. **CSP headers** ‚ö†Ô∏è
9. **Rotating secrets** ‚ùå
10. **ELK/Loki –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ‚ùå

---

## üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ñ–∞–∑–∞–º

| –§–∞–∑–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≥—Ä–µ—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|------|--------|----------|-----------|
| –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ | 100% | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ |
| –§–∞–∑–∞ 2: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | 60% | üî• –í—ã—Å–æ–∫–∏–π |
| –§–∞–∑–∞ 3: –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–∞ | 0% | ‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–π |
| –§–∞–∑–∞ 4: –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | 40% | üî• –í—ã—Å–æ–∫–∏–π |
| –§–∞–∑–∞ 5: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | 30% | ‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–π |

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:
1. ‚úÖ –§–∞–∑–∞ 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ - –º–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å
2. ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–∏—Ç—å rate limiting –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å nginx rate limiting
3. ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
4. ‚úÖ –û—Å—Ç–∞–ª—å–Ω–æ–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ

### –î–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ 200+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. ‚úÖ PostgreSQL —Å connection pooling - –≥–æ—Ç–æ–≤–æ
2. ‚ö†Ô∏è Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è - –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ
3. ‚ùå –ú–∏–≥—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –≤ S3 - –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ
4. ‚ö†Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ - –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **Rate limiting:** –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å slowapi. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å nginx rate limiting –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É.
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è in-memory cache, —á—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏–Ω—Å—Ç–∞–Ω—Å–∞. Redis –Ω—É–∂–µ–Ω –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.
- **–§–∞–π–ª—ã:** –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è. S3 –Ω—É–∂–µ–Ω –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤.


