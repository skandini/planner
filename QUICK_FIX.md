# Быстрое исправление проблемы с удалением уведомлений

## Проблема
"Failed to fetch" при попытке удалить уведомление

## Решение (по порядку)

### 1. ПЕРЕЗАПУСТИТЕ BACKEND! ⚠️

**Это самое важное!** Backend должен быть перезапущен после изменений в коде:

```powershell
# Остановите backend (Ctrl+C в терминале где он запущен)
# Затем запустите снова:
cd backend
uvicorn app.main:app --reload
```

### 2. Проверьте работу

После перезапуска backend:
1. Обновите страницу в браузере (F5)
2. Попробуйте удалить уведомление
3. Проверьте консоль браузера (F12) - должны быть логи `[API] PATCH ...`

### 3. Если все еще не работает

Проверьте Network tab (F12 → Network):
- Найдите PATCH запрос к `/api/v1/notifications/{id}`
- Проверьте статус: должен быть 200 OK
- Если CORS error - проверьте порт frontend в `backend/app/core/config.py`

### 4. Проверьте, работает ли "Отметить прочитанным"

Если "Отметить прочитанным" работает, а удаление нет - проблема в backend обработке `is_deleted`.

### 5. Проверьте логи backend

В терминале где запущен backend должны быть логи:
```
INFO:     127.0.0.1:xxxxx - "PATCH /api/v1/notifications/... HTTP/1.1" 200 OK
```

Если нет логов - запрос не доходит до backend.

## Частые причины

1. ✅ **Backend не перезапущен** (90% случаев)
2. ❌ Миграция не применена (проверено - применена)
3. ❌ Backend не запущен (проверено - работает)
4. ❌ CORS проблема (должна быть решена для PATCH)

## Тест

Выполните в консоли браузера (F12):
```javascript
// Проверка доступности backend
fetch('http://localhost:8000/api/v1/health')
  .then(r => r.json())
  .then(console.log)
  .catch(console.error)
```

Если работает - backend доступен. Проблема в авторизации или обработке запроса.

