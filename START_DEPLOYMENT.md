# üöÄ –ù–ê–ß–ê–õ–û –î–ï–ü–õ–û–Ø - –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## ‚úÖ –í–°–ï –ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ!

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã.

---

## üìö –í–´–ë–ï–†–ò–¢–ï –ò–ù–°–¢–†–£–ö–¶–ò–Æ

### üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: **`DEPLOYMENT_STEP_BY_STEP.md`**
**–°–∞–º–∞—è –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å –ø–æ—à–∞–≥–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏**

- ‚úÖ –ü–æ—à–∞–≥–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- ‚úÖ –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 2-3 —á–∞—Å–∞

---

### ‚ö° –ë—ã—Å—Ç—Ä—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: **`backend/scripts/quick_deploy.sh`**
**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —á–∞—Å—Ç–∏ –¥–µ–ø–ª–æ—è**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/planner/backend
chmod +x scripts/quick_deploy.sh
sudo ./scripts/quick_deploy.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç PostgreSQL
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç systemd
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç backup

**–ü–æ—Å–ª–µ —Å–∫—Ä–∏–ø—Ç–∞ –Ω—É–∂–Ω–æ:**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx (—à–∞–≥ 8)
- –ü–æ–ª—É—á–∏—Ç—å SSL (—à–∞–≥ 9)

---

### üìñ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è: **`DEPLOYMENT_UBUNTU_POSTGRESQL.md`**
**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π**

---

## üÜò –ï–°–õ–ò –í–û–ó–ù–ò–ö–õ–ò –ü–†–û–ë–õ–ï–ú–´

**–°–º. `DEPLOYMENT_TROUBLESHOOTING.md`**

–¢–∞–º –æ–ø–∏—Å–∞–Ω—ã:
- –í—Å–µ —á–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- –†–µ—à–µ–Ω–∏—è
- –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

---

## üìã –ë–´–°–¢–†–´–ô –ß–ï–ö–õ–ò–°–¢

### –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º:
- [ ] –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH
- [ ] –î–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω (calendar.corestone.ru ‚Üí 155.212.190.153)
- [ ] Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–æ—Å—Ç—É–ø–µ–Ω

### –û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏:
1. [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (15 –º–∏–Ω)
2. [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python 3.12 (10 –º–∏–Ω)
3. [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL (20 –º–∏–Ω)
4. [ ] –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (10 –º–∏–Ω)
5. [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ backend (20 –º–∏–Ω)
6. [ ] –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (10 –º–∏–Ω)
7. [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd (15 –º–∏–Ω)
8. [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (20 –º–∏–Ω)
9. [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (10 –º–∏–Ω)
10. [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup (10 –º–∏–Ω)
11. [ ] –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (15 –º–∏–Ω)

**–ò—Ç–æ–≥–æ: ~2-3 —á–∞—Å–∞**

---

## üéØ –ù–ê–ß–ù–ò–¢–ï –° –≠–¢–û–ì–û

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é:
```bash
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
cat DEPLOYMENT_STEP_BY_STEP.md
# –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
```

### 2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:
```bash
ssh root@155.212.190.153
```

### 3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ—à–∞–≥–æ–≤–æ

### 4. –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö - —Å–º. DEPLOYMENT_TROUBLESHOOTING.md

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
systemctl status planner-backend postgresql nginx

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å endpoints
curl https://calendar.corestone.ru/api/v1/health
curl https://calendar.corestone.ru/api/v1/health/ready

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å rate limiting
curl -X POST https://calendar.corestone.ru/api/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{"email":"test@test.com","password":"test","full_name":"Test"}'
# –ü–æ–≤—Ç–æ—Ä–∏—Ç—å 6 —Ä–∞–∑ - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 429
```

---

## üìû –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
# Backend
journalctl -u planner-backend -f

# Nginx
tail -f /var/log/nginx/planner_error.log
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
systemctl restart planner-backend
systemctl reload nginx
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```bash
systemctl status planner-backend
systemctl status postgresql
systemctl status nginx
```

---

## üéâ –£–î–ê–ß–ù–û–ì–û –î–ï–ü–õ–û–Ø!

–í—Å–µ –≥–æ—Ç–æ–≤–æ. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏ –≤—Å–µ –ø–æ–ª—É—á–∏—Ç—Å—è!

**–ì–ª–∞–≤–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç:** `DEPLOYMENT_STEP_BY_STEP.md`

**–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:** `DEPLOYMENT_TROUBLESHOOTING.md`

